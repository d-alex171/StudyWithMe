{"ast":null,"code":"var _s = $RefreshSig$();\nimport { showVenue } from \"@mappedin/mappedin-js\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nexport default function useMapView(venue, options) {\n  _s();\n  // Store the MapView instance in a state variable\n  const [mapView, setMapView] = useState();\n  const mapRef = useRef(null);\n  const isRendering = useRef(false);\n\n  // Render the MapView asynchronously\n  const renderVenue = useCallback(async (el, venue, options) => {\n    if (isRendering.current === true || mapView != null) {\n      return;\n    }\n    isRendering.current = true;\n    console.log(\"[useMapView] Rendering \\\"\".concat(venue.venue.name, \"\\\" to element \\\"\").concat(el.id, \"\\\".\"));\n    const _mapView = await showVenue(el, venue, options);\n    setMapView(_mapView);\n    isRendering.current = false;\n  }, [isRendering, mapView, setMapView]);\n\n  // Pass this ref to the target div which will render the MapView\n  const elementRef = useCallback(element => {\n    if (element == null) {\n      return;\n    }\n    mapRef.current = element;\n    if (mapView == null && venue != null && isRendering.current == false) {\n      renderVenue(element, venue, options);\n    }\n  }, [renderVenue, mapView, isRendering, mapRef]);\n\n  // Intialize the MapView if the element has been created the and venue loaded afterwards\n  useEffect(() => {\n    if (mapView) {\n      return;\n    }\n    if (mapRef.current != null && venue != null) {\n      renderVenue(mapRef.current, venue, options);\n    }\n  }, [venue, mapRef.current, mapView, renderVenue]);\n  return {\n    mapView,\n    elementRef\n  };\n}\n_s(useMapView, \"3RRwd+PYD5Botz4xbHtDVptkDYo=\");","map":{"version":3,"names":["showVenue","useCallback","useEffect","useRef","useState","useMapView","venue","options","_s","mapView","setMapView","mapRef","isRendering","renderVenue","el","current","console","log","concat","name","id","_mapView","elementRef","element"],"sources":["/Users/lancesoliman/Downloads/StudyWithMe/src/hooks/useMapView.ts"],"sourcesContent":["import {\n  Mappedin,\n  MapView,\n  showVenue,\n  TMapViewOptions\n} from \"@mappedin/mappedin-js\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\n\nexport default function useMapView(\n  venue: Mappedin | undefined,\n  options?: TMapViewOptions\n) {\n  // Store the MapView instance in a state variable\n  const [mapView, setMapView] = useState<MapView | undefined>();\n  const mapRef = useRef<HTMLDivElement | null>(null);\n  const isRendering = useRef(false);\n\n  // Render the MapView asynchronously\n  const renderVenue = useCallback(\n    async (el: HTMLDivElement, venue: Mappedin, options?: TMapViewOptions) => {\n      if (isRendering.current === true || mapView != null) {\n        return;\n      }\n\n      isRendering.current = true;\n\n      console.log(\n        `[useMapView] Rendering \"${venue.venue.name}\" to element \"${el.id}\".`\n      );\n      const _mapView = await showVenue(el, venue, options);\n      setMapView(_mapView);\n\n      isRendering.current = false;\n    },\n    [isRendering, mapView, setMapView]\n  );\n\n  // Pass this ref to the target div which will render the MapView\n  const elementRef = useCallback(\n    (element: HTMLDivElement | null) => {\n      if (element == null) {\n        return;\n      }\n\n      mapRef.current = element;\n\n      if (mapView == null && venue != null && isRendering.current == false) {\n        renderVenue(element, venue, options);\n      }\n    },\n    [renderVenue, mapView, isRendering, mapRef]\n  );\n\n  // Intialize the MapView if the element has been created the and venue loaded afterwards\n  useEffect(() => {\n    if (mapView) {\n      return;\n    }\n\n    if (mapRef.current != null && venue != null) {\n      renderVenue(mapRef.current, venue, options);\n    }\n  }, [venue, mapRef.current, mapView, renderVenue]);\n\n  return { mapView, elementRef };\n}\n"],"mappings":";AAAA,SAGEA,SAAS,QAEJ,uBAAuB;AAC9B,SAASC,WAAW,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEhE,eAAe,SAASC,UAAUA,CAChCC,KAA2B,EAC3BC,OAAyB,EACzB;EAAAC,EAAA;EACA;EACA,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAsB,CAAC;EAC7D,MAAMO,MAAM,GAAGR,MAAM,CAAwB,IAAI,CAAC;EAClD,MAAMS,WAAW,GAAGT,MAAM,CAAC,KAAK,CAAC;;EAEjC;EACA,MAAMU,WAAW,GAAGZ,WAAW,CAC7B,OAAOa,EAAkB,EAAER,KAAe,EAAEC,OAAyB,KAAK;IACxE,IAAIK,WAAW,CAACG,OAAO,KAAK,IAAI,IAAIN,OAAO,IAAI,IAAI,EAAE;MACnD;IACF;IAEAG,WAAW,CAACG,OAAO,GAAG,IAAI;IAE1BC,OAAO,CAACC,GAAG,6BAAAC,MAAA,CACkBZ,KAAK,CAACA,KAAK,CAACa,IAAI,sBAAAD,MAAA,CAAiBJ,EAAE,CAACM,EAAE,QACnE,CAAC;IACD,MAAMC,QAAQ,GAAG,MAAMrB,SAAS,CAACc,EAAE,EAAER,KAAK,EAAEC,OAAO,CAAC;IACpDG,UAAU,CAACW,QAAQ,CAAC;IAEpBT,WAAW,CAACG,OAAO,GAAG,KAAK;EAC7B,CAAC,EACD,CAACH,WAAW,EAAEH,OAAO,EAAEC,UAAU,CACnC,CAAC;;EAED;EACA,MAAMY,UAAU,GAAGrB,WAAW,CAC3BsB,OAA8B,IAAK;IAClC,IAAIA,OAAO,IAAI,IAAI,EAAE;MACnB;IACF;IAEAZ,MAAM,CAACI,OAAO,GAAGQ,OAAO;IAExB,IAAId,OAAO,IAAI,IAAI,IAAIH,KAAK,IAAI,IAAI,IAAIM,WAAW,CAACG,OAAO,IAAI,KAAK,EAAE;MACpEF,WAAW,CAACU,OAAO,EAAEjB,KAAK,EAAEC,OAAO,CAAC;IACtC;EACF,CAAC,EACD,CAACM,WAAW,EAAEJ,OAAO,EAAEG,WAAW,EAAED,MAAM,CAC5C,CAAC;;EAED;EACAT,SAAS,CAAC,MAAM;IACd,IAAIO,OAAO,EAAE;MACX;IACF;IAEA,IAAIE,MAAM,CAACI,OAAO,IAAI,IAAI,IAAIT,KAAK,IAAI,IAAI,EAAE;MAC3CO,WAAW,CAACF,MAAM,CAACI,OAAO,EAAET,KAAK,EAAEC,OAAO,CAAC;IAC7C;EACF,CAAC,EAAE,CAACD,KAAK,EAAEK,MAAM,CAACI,OAAO,EAAEN,OAAO,EAAEI,WAAW,CAAC,CAAC;EAEjD,OAAO;IAAEJ,OAAO;IAAEa;EAAW,CAAC;AAChC;AAACd,EAAA,CAzDuBH,UAAU"},"metadata":{},"sourceType":"module"}